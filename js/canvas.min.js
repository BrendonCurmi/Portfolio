let maxParticles,particleBreakDistance,repelDist,particles=[];function setup(){for(createCanvas(this.windowWidth,this.windowHeight).parent("canvas"),frameRate(60),this.strokeWeight(2),stroke(255),maxParticles=120,particleBreakDistance=max(width,height)/40,repelDist=max(width,height)/8;particles.length<maxParticles;)particles.push([this.createVector(random(width),random(height)),this.createVector(random(4)-2,random(4)-2)])}function windowResized(){this.resizeCanvas(this.windowWidth,this.windowHeight,!0)}function renderParticles(){colorMode(this.HSB,100);for(let t=0;t<particles.length;t++){let e=particles[t][0];for(let i=t+1;i<particles.length;i++){let t=particles[i][0],a=e.dist(t);a<=particleBreakDistance&&(this.strokeWeight(2-a/particleBreakDistance),stroke(e.x/width*100,90,90,255-255*a/particleBreakDistance),line(e.x,e.y,t.x,t.y))}}colorMode(this.RGB,255),fill(255,255,255,200),this.noStroke();for(let t=0;t<particles.length;t++){let e=particles[t][0],i=particles[t][1],a=3+random(4);ellipse(e.x,e.y,a,a),e.add(i),e.x>width?(e.x-=width,e.y+=random(height/10)-height/20):e.x<0&&(e.x+=width,e.y+=random(height/10)-height/20),e.y>height?(e.y-=height,e.x+=random(width/10)-width/20):e.y<0&&(e.y+=height,e.x+=random(width/10)-width/20)}}function draw(){background(15,15,20),renderParticles(),particleBreakDistance=min(particleBreakDistance+1,width/12)}